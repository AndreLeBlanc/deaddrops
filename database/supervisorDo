package database

import (
    "database/sql"
    "fmt"
    _ "github.com/mattn/go-sqlite3"
    "strings"
    "os"
    "api/dbMod"
    "time"
)

func delete(db * sql.DB, has int {
    out, error = db.Prepare("delete from userinfo where hash=?")
    CheckErr(error)

   	result, error = out.Exec(hash)
    CheckErr(error)

    affect, error = result.RowsAffected()
    CheckErr(error)
}

func SupervisorDo(db * sql.DB, token string, c chan string, cm *ChanMap) {

    select {
    case fname := <-c:
        fmt.Printf("received filename: %s\n", fname)
        delete(db, 2131231)
    case <-time.After(time.Second * 10):
        fmt.Println("timeout")
    }

}